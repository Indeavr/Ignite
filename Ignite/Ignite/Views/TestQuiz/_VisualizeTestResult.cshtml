@model Ignite.ViewModels.QuizResultViewModel

@{ 
    TempData["passed"] = Model.Passed;
}

<!-- Modal content -->
<div class="modal-content" id="myModalContent">
    <div class="modal-header">
        @*<span class="close">&times;</span>*@
        <h2 id="passed">@Model.Passed</h2>
    </div>
    <div class="modal-body">
        <h4>
            Test Result: @Model.Score %
        </h4>
        <h5>
            Required: @Model.RequiredScore %
        </h5>
        <h6>
            Correct Answers: @Model.CorrectAnswers
        </h6>
    </div>
    <div class="modal-footer">
        <a class="btn btn-info" href="@Url.Action("")">Re-Take Course</a>
        <a class="btn btn-danger" id="return-btn" href = "@Url.Action("Home","UserCourse")">
            Return
            @* @Html.ActionLink("Return", "Home", "UserCourse", new { area = ""})*@
        </a>
    </div>
</div>


@section scrips{
    <script>
        (function switchPanel() {
            debugger;
            var result = $.parseJSON("TempData[\"passed\"]");
            if (result === "Failed") {
                $('.modal-header').css("background-color", "red")
            }
        }())
    </script>
    @*<script>
            // Get the modal
            let modal = $('#result-popup');

            // Get the button that opens the modal
            let btn = $("#myBtn");

            // Get the <span> element that closes the modal
            let span = $(".close")[0];

            // When the user clicks the button, open the modal
            btn.onclick = function () {
                modal.style.display = "block";
            }

            // When the user clicks on <span> (x), close the modal
            span.onclick = function () {
                modal.style.display = "none";
            }

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        </script>*@
}
